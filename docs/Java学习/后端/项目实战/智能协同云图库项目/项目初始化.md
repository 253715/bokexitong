---
tags:
  - Java项目实战
  - SpringBoot
  - 云图库项目
readingTime: true
date: 2025-05-11 11:11:47
recommend: ['云图库项目',2]
---

# 项目初始化

## 鱼皮笔记

>https://www.codefather.cn/course/1864210260732116994/section/1865592693447106562?type=#heading-0

从 0 开始搭建后端和前端项目，会后续正式开发项目打好基础。
包括：
- 后端项目初始化
- 前端项目初始化
本节教程的后端和前端互不影响，可以按需独立学习，**建议优先学习自己求职方向的内容**。

>这里先学习后端，学端先不弄了

## 后端项目初始化

### 环境

1. jdk 8,11或17
2. mysql 5.7 或 8.0

### 新建项目
#### 1. 新建SpringBoot项目

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511111816289.png)

>注意需要替换 Server URL 为https://start.aliyun.com/  ，因为官方的 Server URL 不支持选择 Java 8。


![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511112034150.png)

#### 2. 修改配置文件

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511112212205.png)

```yml
server:
  port: 8123
  servlet:
    context-path: /api
spring:
  application:
    name: yu-picture-backend
  # 数据库配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/yu_picture
    username: root
    password: 123456

```

>修改资源目录下的配置文件为 application.yml，指定项目启动的端口号和访问地址前缀、项目名称、数据库配置等。

#### 3. 启动项目

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511112437842.png)
> 成功启动了

### 整合依赖

#### 1、Mybatis-Plus
>参考官方文档引入：https://baomidou.com/getting-started/#spring-boot2

```xml
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-boot-starter</artifactId>
    <version>3.5.9</version>
</dependency>

```

>注意，添加该依赖后，记得移除 MyBatis 相关的依赖！否则很容易导致版本冲突！！！

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511113135095.png)

添加mapper包，并且注册

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511113453634.png)

在 application.yml 中追加配置，开启日志和逻辑删除功能：

```YML
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: false
    # 仅在开发环境开启日志
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      logic-delete-field: isDelete # 全局逻辑删除的实体字段名
      logic-delete-value: 1 # 逻辑已删除值（默认为 1）
      logic-not-delete-value: 0 # 逻辑未删除值（默认为 0）

```

#### 2、Hutool 工具库

:::details 是什么
Hutool 是主流的 Java 工具类库，集合了丰富的工具类，涵盖字符串处理、日期操作、文件处理、加解密、反射、正则匹配等常见功能。它的轻量化和无侵入性让开发者能够专注于业务逻辑而不必编写重复的工具代码。例如，DateUtil.formatDate(new Date()) 可以快速将当前日期格式化为字符串。

:::

```xml
<dependency>
    <groupId>cn.hutool</groupId>
    <artifactId>hutool-all</artifactId>
    <version>5.8.26</version>
</dependency>

```

#### 3、Knife4j 接口文档

Knife4j 是基于 Swagger 接口文档的增强工具，提供了更加友好的 API 文档界面和功能扩展，例如动态参数调试、分组文档等。它适合用于 Spring Boot 项目中，能够通过简单的配置自动生成接口文档，让开发者和前端快速了解和调试接口，提高写作效率。

参考官方文档引入：https://doc.xiaominfo.com/docs/quick-start#spring-boot-2

由于使用的是<font color="#ff0000"> Spring Boot 2.x</font>，注意要选择 OpenAPI 2 的版本。
> 注意版本号

```xml
<dependency>
    <groupId>com.github.xiaoymin</groupId>
    <artifactId>knife4j-openapi2-spring-boot-starter</artifactId>
    <version>4.4.0</version>
</dependency>

```

在 application.yml 中追加接口文档配置，扫描 Controller 包：

```yml
# 接口文档配置
knife4j:
  enable: true
  openapi:
    title: "接口文档"
    version: 1.0
    group:
      default:
        api-rule: package
        api-rule-resources:
          - com.xiaokai.yupicturebackend.controller

```

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511134125379.png)

编写接口

```JAVA
@Controller  
public class Hello {  
  
  
  
@RequestMapping(value = "/hello")  
public String hello() {  
return "hello";  
}  
  
}
```

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511134211253.png)

重启项目，访问 http://localhost:8123/api/doc.html 能够看到接口文档，可以测试调用：

![image.png](https://imgsbo.oss-cn-shanghai.aliyuncs.com/undefined20250511134236498.png)

#### 4、其他依赖

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-aop</artifactId>
</dependency>

```
给启动类添加注解（可选）：

```java
@EnableAspectJAutoProxy(exposeProxy = true)
```

>解释一下 exposeProxy = true 的作用：通过 Spring AOP 提供对当前代理对象的访问，使得可以在业务逻辑中访问到当前的代理对象。你可以在方法执行时通过 AopContext.currentProxy() 获取当前的代理对象。
   还有更多的依赖，后续我们随用随装

### 通用基础代码

:::details 什么是通用基础代码
通用基础代码是指：无论在任何后端项目中，都可以复用的代码。这种代码一般 “一辈子只用写一次”，了解作用之后复制粘贴即可，无需记忆。
:::


